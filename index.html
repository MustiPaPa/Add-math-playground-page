<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mathe & Deutsch ‚Äì Spielplatz (Musti)</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #84c0f0;
        text-align: center;
    }
    header {
        background: #1b75d0;
        padding: 8px 12px;
        color: white;
        font-size: 20px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
    }
    .header-center {
        flex: 1;
        text-align: center;
    }
    header small {
        display: block;
        font-size: 13px;
        margin-top: 4px;
        font-weight: normal;
    }
    .flag {
        width: 50px;
        text-align: center;
    }
    .flag img {
        height: 28px;
        border-radius: 4px;
        box-shadow: 0 0 4px rgba(0,0,0,0.4);
    }

    .top-bar {
        margin: 10px auto 0;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
        align-items: center;
    }
    .top-bar input {
        padding: 6px 10px;
        border-radius: 10px;
        border: 1px solid #ccc;
        width: 160px;
    }
    .top-bar select {
        padding: 6px 10px;
        border-radius: 10px;
        border: 1px solid #ccc;
    }
    .top-bar .score {
        font-weight: bold;
        color: #fff;
        background: #1b75d0;
        padding: 4px 10px;
        border-radius: 10px;
    }

    /* Hamburger / Spiel-Men√º */
    .menu-bar {
        margin: 15px auto 5px;
        max-width: 400px;
    }
    .hamburger-btn {
        width: 100%;
        padding: 10px 14px;
        border-radius: 12px;
        border: none;
        background: #0056a6;
        color: white;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    }
    .hamburger-icon {
        font-size: 20px;
    }
    .menu-list {
        margin-top: 6px;
        display: none;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 3px 8px rgba(0,0,0,0.25);
        overflow: hidden;
    }
    .menu-item {
        width: 100%;
        padding: 10px 14px;
        border: none;
        background: white;
        cursor: pointer;
        text-align: left;
        font-size: 15px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .menu-item span {
        font-size: 18px;
        margin-right: 8px;
    }
    .menu-item:hover {
        background: #e3f2ff;
    }

    .game-area {
        max-width: 500px;
        margin: 15px auto 20px;
        background: #ffffff;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        text-align: center;
    }
    .game-area h2 {
        margin-top: 0;
    }
    .question {
        font-size: 22px;
        margin: 10px 0;
    }
    .hint {
        font-size: 13px;
        color: #555;
        margin-bottom: 8px;
    }
    .game-area input {
        padding: 8px 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        width: 100px;
        text-align: center;
    }
    .game-area button {
        margin-top: 10px;
        padding: 10px 18px;
        background: #28a745;
        border: none;
        border-radius: 10px;
        color: white;
        font-weight: bold;
        cursor: pointer;
    }
    .game-area button:hover {
        background: #218838;
    }
    .feedback {
        margin-top: 10px;
        font-weight: bold;
    }

    .side-info {
        max-width: 650px;
        margin: 0 auto 30px;
        background: #fffbcc;
        border-radius: 12px;
        padding: 10px 15px 15px;
        font-size: 14px;
        text-align: left;
    }
    .side-info h3 {
        margin-top: 5px;
    }
    .side-info ul {
        padding-left: 20px;
        margin: 5px 0 10px;
    }
</style>
</head>
<body>

<header>
  <div class="flag">
    <img src="https://flagcdn.com/w40/so.png" alt="Somalia">
  </div>
  <div class="header-center">
    Mathe & Deutsch ‚Äì Spielplatz (Musti Edition)
    <small>Grundschule ¬∑ Rechnen & Sprachen lernen</small>
  </div>
  <div class="flag">
    <img src="https://flagcdn.com/w40/ch.png" alt="Schweiz">
  </div>
</header>

<div class="top-bar">
    <input type="text" id="username" placeholder="Name eingeben" oninput="updateName()" />
    <select id="gradeSelect" onchange="updateGrade()">
        <option value="1">1. Klasse</option>
        <option value="2">2. Klasse</option>
        <option value="3">3. Klasse</option>
        <option value="4">4. Klasse</option>
        <option value="5">5. Klasse</option>
        <option value="6">6. Klasse</option>
        <option value="special">Spezial 6/7</option>
    </select>
    <span class="score" id="scoreBox">Punkte: 0</span>
</div>

<div class="menu-bar">
    <button class="hamburger-btn" onclick="toggleMenu()">
        <span class="hamburger-icon">‚ò∞</span>
        Spiele w√§hlen (Mathe / Deutsch)
    </button>
    <div class="menu-list" id="menuList">
        <button class="menu-item" onclick="chooseMode('add')">
            <span>‚ûï</span> Addition
        </button>
        <button class="menu-item" onclick="chooseMode('sub')">
            <span>‚ûñ</span> Subtraktion
        </button>
        <button class="menu-item" onclick="chooseMode('mul')">
            <span>‚úñÔ∏è</span> Multiplikation
        </button>
        <button class="menu-item" onclick="chooseMode('frac')">
            <span>üß©</span> Br√ºche
        </button>
        <button class="menu-item" onclick="chooseMode('de')">
            <span>üá©üá™</span> Deutschaufgaben (Text)
        </button>
        <!-- Platzhalter f√ºr Zukunft: Englisch, Franz√∂sisch, Informatik -->
        <!--
        <button class="menu-item" onclick="chooseMode('en')">
            <span>üá¨üáß</span> Englisch (coming soon)
        </button>
        <button class="menu-item" onclick="chooseMode('fr')">
            <span>üá´üá∑</span> Franz√∂sisch (coming soon)
        </button>
        <button class="menu-item" onclick="chooseMode('itbasics')">
            <span>üíª</span> Informatik Basics (coming soon)
        </button>
        -->
    </div>
</div>

<div class="game-area" id="gameArea" style="display:none;">
    <h2 id="gameTitle">Spiel</h2>
    <p class="hint" id="instructions">
      W√§hle oben ein Spiel aus.
    </p>
    <div class="question" id="questionBox">Frage</div>
    <input type="text" id="answerInput" placeholder="Antwort" />
    <br>
    <button onclick="checkAnswer()">OK</button>
    <div class="feedback" id="feedbackBox"></div>
</div>

<div class="side-info">
    <h3>Grundwortschatz Mathe (Deutsch)</h3>
    <ul>
        <li><b>plus</b> = + (z.&nbsp;B. 3 plus 4)</li>
        <li><b>minus</b> = ‚àí (z.&nbsp;B. 7 minus 2)</li>
        <li><b>mal</b> = √ó (z.&nbsp;B. 3 mal 5)</li>
        <li><b>geteilt durch</b> = √∑ (z.&nbsp;B. 8 geteilt durch 2)</li>
        <li><b>Ergebnis</b> = Resultat / L√∂sung</li>
    </ul>
    <p>
      Anleitung auf Deutsch:<br>
      ‚Äì Oben Klasse ausw√§hlen (1.‚Äì6. Klasse oder Spezial 6/7).<br>
      ‚Äì Auf ‚ÄûSpiele w√§hlen‚Äú klicken und ein Spiel aussuchen.<br>
      ‚Äì Frage lesen, Antwort eintippen.<br>
      ‚Äì Auf OK klicken und Punkte sammeln.<br>
    </p>
</div>

<script>
let currentMode = null;
let currentAnswer = null;
let score = 0;
let currentGrade = "1";

function updateName(){
    const name = document.getElementById('username').value.trim();
    if(name){
        document.title = name + " ‚Äì Mathe & Deutsch Spielplatz";
    } else {
        document.title = "Mathe & Deutsch ‚Äì Spielplatz (Musti)";
    }
}

function updateGrade(){
    const sel = document.getElementById('gradeSelect');
    currentGrade = sel.value;
    // Optional: neue Frage passend zur Klasse
    if(currentMode !== null){
        newQuestion();
    }
}

function toggleMenu(){
    const menu = document.getElementById('menuList');
    if(menu.style.display === "block"){
        menu.style.display = "none";
    } else {
        menu.style.display = "block";
    }
}

function chooseMode(mode){
    currentMode = mode;
    document.getElementById('gameArea').style.display = 'block';
    document.getElementById('feedbackBox').innerText = '';
    newQuestion();
}

function getSettingsForGrade(){
    // Adkaanta dadkan:
    // 1. Klasse: tirooyin yar
    // 6. Klasse / Spezial: tirooyin waaweyn
    switch(currentGrade){
        case "1":
            return { addMax: 10, subMax: 10, mulMax: 5 };
        case "2":
            return { addMax: 20, subMax: 20, mulMax: 8 };
        case "3":
            return { addMax: 30, subMax: 30, mulMax: 10 };
        case "4":
            return { addMax: 50, subMax: 50, mulMax: 10 };
        case "5":
            return { addMax: 80, subMax: 80, mulMax: 12 };
        case "6":
            return { addMax: 100, subMax: 100, mulMax: 12 };
        case "special":
            return { addMax: 150, subMax: 150, mulMax: 15 };
        default:
            return { addMax: 20, subMax: 20, mulMax: 10 };
    }
}

function newQuestion(){
    const qBox = document.getElementById('questionBox');
    const title = document.getElementById('gameTitle');
    const inst = document.getElementById('instructions');
    const input = document.getElementById('answerInput');
    const settings = getSettingsForGrade();

    input.value = '';
    input.focus();

    let a, b;

    if(currentMode === 'add'){
        title.innerText = "Addition";
        inst.innerText = "Berechne die Summe.";
        a = randomInt(1, settings.addMax);
        b = randomInt(1, settings.addMax);
        qBox.innerText = a + " + " + b + " = ?";
        currentAnswer = a + b;
    } else if(currentMode === 'sub'){
        title.innerText = "Subtraktion";
        inst.innerText = "Berechne die Differenz.";
        a = randomInt(1, settings.subMax);
        b = randomInt(1, a);
        qBox.innerText = a + " ‚àí " + b + " = ?";
        currentAnswer = a - b;
    } else if(currentMode === 'mul'){
        title.innerText = "Multiplikation";
        inst.innerText = "Berechne das Produkt.";
        a = randomInt(1, settings.mulMax);
        b = randomInt(1, settings.mulMax);
        qBox.innerText = a + " √ó " + b + " = ?";
        currentAnswer = a * b;
    } else if(currentMode === 'frac'){
        title.innerText = "Br√ºche";
        inst.innerText = "L√∂se die Bruchaufgabe.";
        const questions = [
            { text: "1/2 von 8 = ?", ans: 4 },
            { text: "1/3 von 9 = ?", ans: 3 },
            { text: "1/4 von 20 = ?", ans: 5 }
        ];
        const q = questions[randomInt(0, questions.length-1)];
        qBox.innerText = q.text;
        currentAnswer = q.ans;
    } else if(currentMode === 'de'){
        title.innerText = "Deutschaufgaben";
        inst.innerText = "Lies die Aufgabe auf Deutsch und antworte mit einer Zahl.";
        a = randomInt(1, settings.addMax);
        b = randomInt(1, settings.addMax);
        qBox.innerText = "Wie viel ist " + a + " plus " + b + " ?";
        currentAnswer = a + b;
    } else {
        title.innerText = "Spiel";
        qBox.innerText = "W√§hle oben ein Spiel aus.";
        inst.innerText = "";
        currentAnswer = null;
    }
}

function checkAnswer(){
    if(currentAnswer === null){
        return;
    }
    const val = document.getElementById('answerInput').value.trim();
    const fb = document.getElementById('feedbackBox');

    if(val === ""){
        fb.innerText = "Bitte gib zuerst eine Antwort ein.";
        fb.style.color = "orange";
        return;
    }

    const userNum = Number(val);
    if(userNum === currentAnswer){
        fb.innerText = "Richtig! üëè";
        fb.style.color = "green";
        score++;
        document.getElementById('scoreBox').innerText = "Punkte: " + score;
        setTimeout(newQuestion, 800);
    } else {
        fb.innerText = "Falsch. Versuch es noch einmal.";
        fb.style.color = "red";
    }
}

function randomInt(min, max){
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
</script>

</body>
</html>
